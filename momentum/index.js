(()=>{"use strict";const e=()=>{const e=document.querySelector("time"),t=document.querySelector("date"),n=document.querySelector(".greeting"),o=document.querySelector(".name"),a=document.querySelector("body");let c=function(e=20){return Math.floor(Math.random()*e)+1}();const r=document.querySelector(".slide-next"),i=document.querySelector(".slide-prev");function u(){const e=(new Date).getHours();return e>=6&&e<12?"morning":e>=12&&e<18?"afternoon":e>=18&&e<24?"evening":e>=0&&e<6?"night":void 0}function d(){let e=u(),t=c;t<10&&(t="0"+c);const n=new Image;n.src=`https://raw.githubusercontent.com/dumbus/stage1-tasks/assets/images/${e}/${t}.jpg`,n.onload=()=>{a.style.backgroundImage=`url("${n.src}")`}}r.addEventListener("click",(function(){c+=1,d()})),i.addEventListener("click",(function(){c-=1,d()})),window.addEventListener("beforeunload",(function(){localStorage.setItem("name",o.value)})),window.addEventListener("load",(function(){localStorage.getItem("name")&&(o.value=localStorage.getItem("name"))})),d(),function o(){const a=(new Date).toLocaleTimeString();e.textContent=a,function(){const e=new Date,n={weekday:"long",month:"long",day:"numeric",timeZone:"UTC"},o=e.toLocaleDateString("en-EN",n);t.textContent=o}(),function(){let e=u();n.textContent=`Good ${e}`}(),setTimeout(o,1e3)}()},t=()=>{const e=document.querySelector(".weather-icon"),t=document.querySelector(".temperature"),n=document.querySelector(".weather-description"),o=document.querySelector(".wind"),a=document.querySelector(".humidity"),c=document.querySelector(".city");async function r(c){const r=`https://api.openweathermap.org/data/2.5/weather?q=${c}&lang=en&appid=4210f79be2d65c6e8c2376a9120f9018&units=metric`,i=await fetch(r),u=await i.json();e.className="weather-icon owf",e.classList.add(`owf-${u.weather[0].id}`),t.textContent=`${Math.floor(u.main.temp)}Â°C`,n.textContent=u.weather[0].description,o.textContent=`Wind speed: ${Math.ceil(u.wind.speed)} m/s`,a.textContent=`Humidity: ${u.main.humidity}% `}null==localStorage.getItem("city")&&localStorage.setItem("city",c.value),c.value=localStorage.getItem("city"),c.addEventListener("change",(()=>{localStorage.setItem("city",c.value),r(c.value)})),r(c.value)};window.addEventListener("DOMContentLoaded",(()=>{e(),t()}))})();