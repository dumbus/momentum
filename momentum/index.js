(()=>{"use strict";const e=()=>{const e=document.querySelector("time"),t=document.querySelector("date"),n=document.querySelector(".greeting"),o=document.querySelector(".name"),r=document.querySelector("body");let c=function(e=20){return Math.floor(Math.random()*e)+1}();const a=document.querySelector(".slide-next"),i=document.querySelector(".slide-prev");function u(){const e=(new Date).getHours();return e>=6&&e<12?"morning":e>=12&&e<18?"afternoon":e>=18&&e<24?"evening":e>=0&&e<6?"night":void 0}function d(){let e=u(),t=c;t<10&&(t="0"+c);const n=new Image;n.src=`https://raw.githubusercontent.com/dumbus/stage1-tasks/assets/images/${e}/${t}.jpg`,n.onload=()=>{r.style.backgroundImage=`url("${n.src}")`}}a.addEventListener("click",(function(){c+=1,d()})),i.addEventListener("click",(function(){c-=1,d()})),window.addEventListener("beforeunload",(function(){localStorage.setItem("name",o.value)})),window.addEventListener("load",(function(){localStorage.getItem("name")&&(o.value=localStorage.getItem("name"))})),d(),function o(){const r=(new Date).toLocaleTimeString();e.textContent=r,function(){const e=new Date,n={weekday:"long",month:"long",day:"numeric",timeZone:"UTC"},o=e.toLocaleDateString("en-EN",n);t.textContent=o}(),function(){let e=u();n.textContent=`Good ${e}`}(),setTimeout(o,1e3)}()},t=()=>{const e=document.querySelector(".weather-icon"),t=document.querySelector(".temperature"),n=document.querySelector(".weather-description"),o=document.querySelector(".wind"),r=document.querySelector(".humidity"),c=document.querySelector(".city"),a=document.querySelector(".weather-error"),i=document.querySelector(".quote"),u=document.querySelector(".author"),d=document.querySelector(".change-quote");function l(e=0,t=19){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}async function s(i){try{const c=`https://api.openweathermap.org/data/2.5/weather?q=${i}&lang=en&appid=4210f79be2d65c6e8c2376a9120f9018&units=metric`,u=await fetch(c),d=await u.json();e.className="weather-icon owf",e.classList.add(`owf-${d.weather[0].id}`),t.textContent=`${Math.floor(d.main.temp)}Â°C`,n.textContent=d.weather[0].description,o.textContent=`Wind speed: ${Math.ceil(d.wind.speed)} m/s`,r.textContent=`Humidity: ${d.main.humidity}% `,a.textContent=""}catch(e){""===i?(c.setAttribute("placeholder","[Enter sity]"),a.textContent="Error! Nothing to geocode for ' '!"):a.textContent=`Error! city not found for ${i}!`,t.textContent="",n.textContent="",o.textContent="",r.textContent=""}}null==localStorage.getItem("city")&&localStorage.setItem("city",c.value),c.value=localStorage.getItem("city"),c.addEventListener("change",(()=>{localStorage.setItem("city",c.value),s(c.value)})),s(c.value);let m=l();async function g(){const e=await fetch("./assets/data.json"),t=await e.json();i.textContent=t[m].quote,u.textContent=t[m].author}g(),d.addEventListener("click",(()=>{m=l(),g()}))};window.addEventListener("DOMContentLoaded",(()=>{e(),t()}))})();